 Resumen TÃ©cnico Completo â€“ Proyecto: MicroTwitter con DevOps CI/CD + GitOps
ğŸ¯ Objetivo General
Desarrollar y desplegar una aplicaciÃ³n tipo MicroTwitter (foro de publicaciones tipo tweet) como un laboratorio DevOps completo que demuestre:

Microservicios en Kubernetes (FastAPI + Vue.js)

GitOps con ArgoCD

CI/CD automatizado con Jenkins

Observabilidad con Grafana, Loki, cAdvisor y Alloy

Almacenamiento persistente con PVC sobre NFS

ComunicaciÃ³n entre microservicios

Arquitectura realista y escalable para producciÃ³n

ğŸ§± Arquitectura General
plaintext
Copiar
Editar
                         +------------------+
                         |    Developer     |
                         +--------+---------+
                                  |
                             (1) Git Push
                                  |
                      +-----------v----------+
                      |      Jenkins         |
                      +-----------+----------+
                                  |
        +-------------------------+--------------------------+
        |                       CI/CD                        |
        |  - build Docker images                              |
        |  - push a Docker Hub                                |
        |  - update GitOps repo (deployment.yaml)             |
        +-------------------------+--------------------------+
                                  |
                           +------v-------+
                           |   ArgoCD     |  <â”€â”€â”€ Auto-sync GitOps repo
                           +------+-------+
                                  |
                             Apply YAMLs
                                  |
     +----------------------------v---------------------------+
     |                      Kubernetes K3s                    |
     |  +------------------+ +----------------+ +------------+|
     |  | users-service    | | posts-service  | | frontend   ||
     |  +--------+---------+ +--------+-------+ +------------+|
     |           |                    |                        |
     |           +----- Internal HTTP/REST via svc ---------->|
     +--------------------------------------------------------+
                                  |
                             Ingress (Traefik)
                                  |
                      Public domain (frontend.socialdevs.site)

ğŸ“¦ Microservicios
Servicio	DescripciÃ³n	TecnologÃ­a
frontend	Interfaz web tipo Twitter (SPA)	Vue.js + Nginx
users-service	API para usuarios (crear, listar)	FastAPI
posts-service	API para publicaciones (crear, listar)	FastAPI
postgresql	Base de datos persistente	PostgreSQL

ğŸ“ Estructura de Repositorios
1. socialdevs-public-frontend/ (cÃ³digo fuente)
plaintext
Copiar
Editar

socialdevs-public-frontend/
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ Jenkinsfile
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.js
â”œâ”€â”€ public/
â”‚   â””â”€â”€ index.html
â””â”€â”€ src/
    â”œâ”€â”€ main.js
    â”œâ”€â”€ App.vue
    â”œâ”€â”€ router/
    â”‚   â””â”€â”€ index.js
    â”œâ”€â”€ components/
    â”‚   â”œâ”€â”€ Header.vue
    â”‚   â””â”€â”€ TweetCard.vue
    â”œâ”€â”€ pages/
    â”‚   â”œâ”€â”€ Home.vue
    â”‚   â”œâ”€â”€ Login.vue
    â”‚   â””â”€â”€ Register.vue
    â””â”€â”€ utils/
        â””â”€â”€ api.js




Incluye Vue.js SPA, empaquetado por Vite, desplegado por Nginx en contenedor.

1. socialdevs-gitops/ (manifiestos GitOps)
plaintext
Copiar
Editar
socialdevs-gitops/
â””â”€â”€ apps/
    â””â”€â”€ socialdevs-frontend/
        â”œâ”€â”€ base/
        â”‚   â”œâ”€â”€ deployment.yaml
        â”‚   â”œâ”€â”€ service.yaml
        â”‚   â”œâ”€â”€ ingress.yaml
        â”‚   â””â”€â”€ kustomization.yaml
        â””â”€â”€ overlays/
            â”œâ”€â”€ dev/
            â”œâ”€â”€ staging/
            â””â”€â”€ prod/
ArgoCD observa este repositorio para desplegar automÃ¡ticamente en el clÃºster K3s.

ğŸ” CI/CD + GitOps Flujo DevOps
plaintext
Copiar
Editar
1. Dev hace Git Push al frontend/backend
2. Jenkins se activa (webhook o polling)
3. Jenkins:
    - Clona el cÃ³digo fuente
    - Construye la imagen Docker
    - Sube la imagen a Docker Hub
    - Clona el repo GitOps
    - Modifica el `deployment.yaml` con el nuevo tag de imagen
    - Commit + push al GitOps repo

4. ArgoCD:
    - Detecta cambio en GitOps repo
    - Aplica los manifests automÃ¡ticamente en K3s
5. Traefik expone el servicio al pÃºblico (con o sin HTTPS)
ğŸ“Š Observabilidad
Grafana: Dashboard unificado

Prometheus (opcional): Scraping de mÃ©tricas

Loki: Logs de contenedores en tiempo real

Alloy: Reemplazo moderno para promtail/node exporter

cAdvisor: MÃ©tricas por pod

ğŸ—‚ Base de Datos + Almacenamiento
PostgreSQL desplegado en una mÃ¡quina virtual dedicada (externa al clÃºster)

PVC para base de datos montado sobre NFS

ComunicaciÃ³n entre los microservicios y la DB a travÃ©s de red privada

ğŸ”’ Seguridad y Networking
Traefik como IngressController (HTTP y HTTPS)

IP pÃºblica o DDNS configurada en router

HAProxy + Keepalived para alta disponibilidad de VIP

Acceso remoto cifrado por VPN (WireGuard)



k3d cluster create socialdevs-local \
  --agents 2 \
  --api-port 6550 \
  -p "80:80@loadbalancer" \
  -p "443:443@loadbalancer"


| OpciÃ³n                      | Significado                            |
| --------------------------- | -------------------------------------- |
| `socialdevs-local`          | Nombre del clÃºster                     |
| `--agents 2`                | 2 nodos worker                         |
| `--api-port 6550`           | Expone el API server en el puerto 6550 |
| `-p "80:80@loadbalancer"`   | Expone HTTP localmente                 |
| `-p "443:443@loadbalancer"` | Expone HTTPS localmente                |


ğŸ”§ Configura kubectl para usar el clÃºster
DespuÃ©s de crear el clÃºster, verifica que funciona:

bash
Copiar
Editar
kubectl get nodes
DeberÃ­as ver algo como:

bash
Copiar
Editar
NAME                    STATUS   ROLES                  AGE   VERSION
k3d-socialdevs-local-server-0   Ready    control-plane,master   1m    v1.29.x
k3d-socialdevs-local-agent-0    Ready    <none>                 1m    v1.29.x
k3d-socialdevs-local-agent-1    Ready    <none>                 1m    v1.29.x



| Nombre del Microservicio   | DescripciÃ³n                                                               | TecnologÃ­a     | Expone API | Conexiones                   |
| -------------------------- | ------------------------------------------------------------------------- | -------------- | ---------- | ---------------------------- |
| **frontend**               | AplicaciÃ³n web tipo Twitter (SPA)                                         | Vue.js + Nginx | No         | Consume `users` y `posts`    |
| **users-service**          | GestiÃ³n de usuarios (registro, login, lista)                              | FastAPI        | SÃ­         | PostgreSQL, frontend         |
| **posts-service**          | GestiÃ³n de publicaciones tipo tweet (crear, listar, eliminar)             | FastAPI        | SÃ­         | PostgreSQL, frontend         |
| **postgresql** *(externo)* | Base de datos relacional compartida para usuarios y posts                 | PostgreSQL     | No         | users-service, posts-service |
| **redpanda (opcional)**    | Event streaming para actividad de usuarios o futuros mÃ³dulos de analÃ­tica | Redpanda       | SÃ­         | posts-service, futuro ML     |
| **loki**                   | Sistema de logs centralizado                                              | Loki           | SÃ­         | Todos los microservicios     |
| **grafana**                | Dashboard para mÃ©tricas y logs (observabilidad)                           | Grafana        | SÃ­         | Loki, Alloy, Prometheus      |
| **cadvisor**               | Recolector de mÃ©tricas de contenedores                                    | cAdvisor       | SÃ­         | Prometheus/Grafana           |
| **alloy**                  | Recolector unificado de logs y mÃ©tricas (reemplazo moderno de promtail)   | Alloy          | SÃ­         | Grafana Cloud / Loki         |




k3d cluster delete socialdevs-local
k3d cluster create socialdevs-local \
  --agents 2 \
  --api-port 6550 \
  -p "80:80@loadbalancer" \
  -p "443:443@loadbalancer"




kubectl get ns
 k3d cluster list

 __
 ğŸ” Flujo CI/CD + GitOps Paso a Paso
ğŸ§± 1. Repositorios GitHub necesarios (mÃ­nimo 3)
Repositorio	Contenido
socialdevs-public-frontend	CÃ³digo fuente del frontend (Vue.js + Docker)
socialdevs-public-backend	CÃ³digo fuente del backend (FastAPI + Docker)
socialdevs-gitops	Manifiestos Kubernetes para ArgoCD

Opcional: Puedes tener un 4Âº repositorio: socialdevs-infra-ansible para la infraestructura (Traefik, Jenkins, etc.)

ğŸ³ 2. Repositorios en Docker Hub
Docker Hub Repo	Imagen
tu_usuario/frontend	Vue.js compilado con Nginx
tu_usuario/users-service	API de usuarios (FastAPI)
tu_usuario/posts-service	API de publicaciones (FastAPI)

ğŸ”§ 3. Jenkins â€“ Fase de IntegraciÃ³n Continua (CI)
Cada repositorio *-backend y *-frontend debe tener su propio Jenkinsfile con pasos como:

groovy
Copiar
Editar
pipeline {
  agent any
  stages {
    stage('Clonar') {
      steps {
        git 'https://github.com/tu_usuario/socialdevs-public-frontend.git'
      }
    }
    stage('Build Docker') {
      steps {
        sh 'docker build -t tu_usuario/frontend:latest .'
      }
    }
    stage('Push Docker') {
      steps {
        withCredentials([usernamePassword(credentialsId: 'dockerhub-creds', usernameVariable: 'DOCKER_USER', passwordVariable: 'DOCKER_PASS')]) {
          sh "echo $DOCKER_PASS | docker login -u $DOCKER_USER --password-stdin"
          sh 'docker push tu_usuario/frontend:latest'
        }
      }
    }
    stage('Actualizar GitOps') {
      steps {
        git credentialsId: 'git-creds', url: 'https://github.com/tu_usuario/socialdevs-gitops.git'
        sh '''
          cd apps/socialdevs-frontend/overlays/dev
          sed -i "s|image: .*$|image: tu_usuario/frontend:latest|" deployment.yaml
          git config user.email "ci@jenkins.com"
          git config user.name "Jenkins"
          git commit -am "CI: update frontend image"
          git push
        '''
      }
    }
  }
}
ğŸš€ 4. ArgoCD â€“ Fase de Entrega Continua (CD)
ArgoCD monitorea el repositorio socialdevs-gitops

Detecta cambios automÃ¡ticamente en deployment.yaml

Despliega la nueva versiÃ³n en Kubernetes (k3d o k3s)

ğŸ’¡ Auto-sync habilitado: cuando ArgoCD ve que el manifiesto cambiÃ³, aplica el nuevo image: automÃ¡ticamente sin intervenciÃ³n.

ğŸŒ 5. Kubernetes (K3d o K3s)
Entorno	ClÃºster	ObservaciÃ³n
Desarrollo local	k3d-socialdevs-local	Ligero, sin cambios de infra
ProducciÃ³n real	k3s en VPS o bare-metal	Escalable, alta disponibilidad

ğŸ“ˆ 6. Observabilidad
Herramienta	FunciÃ³n
Grafana	Dashboards y mÃ©tricas
Loki	Logs centralizados
Alloy	Recolector moderno de logs
cAdvisor	MÃ©tricas de contenedores (CPU, RAM)

ğŸ§  Mapa mental paso a paso
ğŸ”„ Dev hace push a GitHub

âš™ï¸ Jenkins:

Clona repo fuente

Construye y sube imagen Docker

Actualiza manifiestos GitOps (nuevo image:)

Push a socialdevs-gitops

ğŸ¤– ArgoCD:

Detecta nuevo commit

Aplica el despliegue a K3s/K3d

âœ… Microservicio actualizado en producciÃ³n

ğŸ“Š Observabilidad en Grafana/Loki/cAdvisor



____________
ğŸ§  VISIÃ“N GENERAL
Objetivo
Montar un flujo completo de integraciÃ³n y despliegue continuo (CI/CD) usando:

GitHub â†’ cÃ³digo fuente

Docker Hub â†’ imÃ¡genes contenedorizadas

Jenkins â†’ CI (construcciÃ³n automÃ¡tica de imÃ¡genes)

ArgoCD â†’ CD (despliegue automÃ¡tico GitOps)

K3d (local) y luego K3s (bare-metal/lab real) â†’ clÃºster Kubernetes

ğŸ§© MICROSERVICIOS Y REPOSITORIOS
Componente	Repositorio GitHub	Imagen Docker Hub
Frontend (Vue.js + Vite + Nginx)	socialdevs-public-frontend	vhgalvez/socialdevs-public-frontend
Backend (FastAPI + PostgreSQL)	socialdevs-public-backend	vhgalvez/socialdevs-public-backend
GitOps (Kustomize + ArgoCD)	socialdevs-gitops	No aplica (usa archivos kustomization.yaml)
Infraestructura CI/CD + Jenkins	socialdevs-infra-ansible (FlatcarMicroCloud)	No aplica (usa Ansible + Helm)

ğŸ“¦ PASO A PASO TEÃ“RICO
1. Desarrolla el cÃ³digo fuente
Cada microservicio tiene su propio repositorio y lÃ³gica.
Por ejemplo:

socialdevs-public-frontend: Vue 3 + Vite + Nginx

socialdevs-public-backend: FastAPI + Uvicorn + PostgreSQL

Tu Dockerfile debe permitir construir cada microservicio en un contenedor de producciÃ³n.

2. Sube el cÃ³digo a GitHub
Para cada servicio:

bash
Copiar
Editar
git init
git remote add origin https://github.com/tu_usuario/repo.git
git add .
git commit -m "initial commit"
git push -u origin main
3. Construye y sube la imagen Docker manualmente (opcional)
bash
Copiar
Editar
docker build -t vhgalvez/socialdevs-public-frontend:latest .
docker push vhgalvez/socialdevs-public-frontend:latest
Esto es lo que luego Jenkins automatizarÃ¡.

4. Configura Jenkins
4.1 InstÃ¡lalo (ya lo tienes automatizado con Ansible en tu socialdevs-infra-ansible)
4.2 Accede al dashboard y crea un nuevo Pipeline
Conecta con GitHub (token)

AÃ±ade un Jenkinsfile en tu repo para definir el pipeline

4.3 Jenkinsfile tÃ­pico (CI)
groovy
Copiar
Editar
pipeline {
  agent any
  stages {
    stage('Checkout') {
      steps {
        git 'https://github.com/vhgalvez/socialdevs-public-frontend.git'
      }
    }
    stage('Build Docker Image') {
      steps {
        sh 'docker build -t vhgalvez/socialdevs-public-frontend:latest .'
      }
    }
    stage('Push to DockerHub') {
      steps {
        withCredentials([usernamePassword(credentialsId: 'dockerhub', usernameVariable: 'DOCKER_USER', passwordVariable: 'DOCKER_PASS')]) {
          sh 'echo $DOCKER_PASS | docker login -u $DOCKER_USER --password-stdin'
          sh 'docker push vhgalvez/socialdevs-public-frontend:latest'
        }
      }
    }
  }
}
5. Configura ArgoCD
5.1 Instala ArgoCD (con Ansible ya lo puedes hacer)
5.2 Crea un repo socialdevs-gitops en GitHub con estructura tipo Kustomize:
bash
Copiar
Editar
socialdevs-gitops/
â”œâ”€â”€ base/
â”‚   â””â”€â”€ frontend/
â”‚       â”œâ”€â”€ deployment.yaml
â”‚       â”œâ”€â”€ service.yaml
â”‚       â””â”€â”€ kustomization.yaml
â””â”€â”€ overlays/
    â””â”€â”€ local/
        â””â”€â”€ kustomization.yaml
deployment.yaml usa la imagen vhgalvez/socialdevs-public-frontend:latest.

5.3 Conecta ArgoCD con GitHub
Desde el dashboard o por CLI:

bash
Copiar
Editar
argocd repo add https://github.com/vhgalvez/socialdevs-gitops --username <user> --password <pass>
6. Despliegue GitOps con ArgoCD
Crea una aplicaciÃ³n en ArgoCD:

bash
Copiar
Editar
argocd app create socialdevs-frontend \
  --repo https://github.com/vhgalvez/socialdevs-gitops \
  --path overlays/local \
  --dest-server https://kubernetes.default.svc \
  --dest-namespace default
Aplica:

bash
Copiar
Editar
argocd app sync socialdevs-frontend
Y ArgoCD desplegarÃ¡ el microservicio en Kubernetes.

7. Pipeline completo: de cÃ³digo a producciÃ³n
css
Copiar
Editar
[ GitHub Repo ]
     â†“ Push
[ Jenkins ] â†’ build image â†’ push DockerHub
     â†“
[ ArgoCD ] â† detecta nuevo commit en gitops repo
     â†“
[ K3d/K3s ] â† despliegue automÃ¡tico
âœ… Resultado esperado
Tu frontend estarÃ¡ corriendo en Kubernetes (puerto o dominio vÃ­a Traefik).

ArgoCD mostrarÃ¡ el estado (Synced, Healthy).

Jenkins habrÃ¡ hecho CI + Push Docker.

GitHub habrÃ¡ almacenado todo el cÃ³digo.

DockerHub tendrÃ¡ la imagen versionada.

___
ğŸ“ DOCUMENTACIÃ“N: socialdevs-public-frontend
ğŸ§± 1. Estructura del Proyecto
pgsql
Copiar
Editar
socialdevs-public-frontend/
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ Jenkinsfile
â”œâ”€â”€ LICENSE
â”œâ”€â”€ README
â”œâ”€â”€ index.html
â”œâ”€â”€ nginx.conf
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.js
â””â”€â”€ src/
    â”œâ”€â”€ App.vue
    â”œâ”€â”€ main.js
    â”œâ”€â”€ components/
    â”œâ”€â”€ pages/
    â””â”€â”€ router/
âš™ï¸ 2. package.json con vue-router
json
Copiar
Editar
{
  "name": "socialdevs-public-frontend",
  "version": "1.0.0",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "serve": "vite preview"
  },
  "dependencies": {
    "vue": "^3.4.21",
    "vue-router": "^4.3.0"
  },
  "devDependencies": {
    "vite": "^5.2.0",
    "@vitejs/plugin-vue": "^5.2.4"
  }
}
ğŸ³ 3. Dockerfile multi-stage para producciÃ³n
Dockerfile
Copiar
Editar
# Etapa de construcciÃ³n
FROM node:18-alpine AS build-stage
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build

# Etapa de producciÃ³n
FROM nginx:stable-alpine AS production-stage
COPY --from=build-stage /app/dist /usr/share/nginx/html
COPY nginx.conf /etc/nginx/conf.d/default.conf
ğŸŒ 4. nginx.conf para servir SPA correctamente
nginx
Copiar
Editar
server {
  listen 80;
  server_name localhost;

  root /usr/share/nginx/html;
  index index.html;

  location / {
    try_files $uri $uri/ /index.html;
  }
}
ğŸ§ª 5. Build local con Docker
bash
Copiar
Editar
docker build -t vhgalvez/socialdevs-frontend:latest .
ğŸ” 6. Login en Docker Hub
bash
Copiar
Editar
docker login
ğŸš€ 7. Push al repositorio Docker Hub
bash
Copiar
Editar
docker push vhgalvez/socialdevs-frontend:latest
â˜¸ï¸ 8. (Opcional) Despliegue en Kubernetes (YAML bÃ¡sico)
yaml
Copiar
Editar
apiVersion: apps/v1
kind: Deployment
metadata:
  name: socialdevs-frontend
spec:
  replicas: 1
  selector:
    matchLabels:
      app: socialdevs-frontend
  template:
    metadata:
      labels:
        app: socialdevs-frontend
    spec:
      containers:
        - name: frontend
          image: vhgalvez/socialdevs-frontend:latest
          ports:
            - containerPort: 80

---
apiVersion: v1
kind: Service
metadata:
  name: socialdevs-frontend
spec:
  selector:
    app: socialdevs-frontend
  ports:
    - port: 80
      targetPort: 80
ğŸ§ª (Opcional) Verificar localmente con Docker
bash
Copiar
Editar
docker run -it --rm -p 8080:80 vhgalvez/socialdevs-frontend:latest
Ir a: http://localhost:8080





socialdevs-public-frontend/
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ Jenkinsfile
â”œâ”€â”€ LICENSE
â”œâ”€â”€ README
â”œâ”€â”€ index.html
â”œâ”€â”€ nginx.conf
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.js
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.vue
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ main.js
â”‚   â”œâ”€â”€ pages/
â”‚   â””â”€â”€ router/
â””â”€â”€ k8s/
    â”œâ”€â”€ deployment.yaml
    â”œâ”€â”€ service.yaml
    â””â”€â”€ ingressroute.yaml





# ConstrucciÃ³n de la imagen
docker build -t vhgalvez/socialdevs-public-frontend:latest .

# Crear tag versionado
docker tag vhgalvez/socialdevs-public-frontend:latest vhgalvez/socialdevs-public-frontend:v1.0.0

# Subir ambas a Docker Hub
docker push vhgalvez/socialdevs-public-frontend:latest
docker push vhgalvez/socialdevs-public-frontend:v1.0.0


docker tag vhgalvez/socialdevs-public-frontend:latest vhgalvez/socialdevs-public-frontend:v1.0.0

docker push vhgalvez/socialdevs-public-frontend:v1.0.0


âœ… Requisitos
Kubernetes (K3s, K3d o cualquier cluster compatible)

Traefik como Ingress Controller

ArgoCD configurado y funcionando

Docker Hub accesible




kubectl create namespace argocd

helm repo add argo https://argoproj.github.io/argo-helm
helm repo update

helm install argocd argo/argo-cd \
  --namespace argocd \
  --set server.service.type=NodePort \
  --set server.service.nodePortHttp=32080 \
  --set server.service.nodePortHttps=32443


kubectl -n argocd get secret argocd-initial-admin-secret \
  -o jsonpath="{.data.password}" | base64 -d; echo

ğŸŒ 3. Acceder al dashboard ArgoCD
Abre en tu navegador:

arduino
Copiar
Editar
https://localhost:8080
Usuario: admin
ContraseÃ±a: (la que obtuviste arriba)

âš ï¸ Si usas k3d, puedes exponer el puerto con k3d cluster create con flags --port o redirigir desde Traefik.

kubectl get svc argocd-server -n argocd

kubectl get pods -n argocd


kubectl get nodes -o wide

kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath="{.data.password}" | base64 -d && echo



# Paso 1: Abrir tÃºnel
kubectl port-forward svc/argocd-server -n argocd 8080:443

# Paso 2: En otra terminal, obtener contraseÃ±a
kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath="{.data.password}" | base64 -d && echo

# Luego accede en el navegador a:
https://localhost:8080



_____ğŸ“ DocumentaciÃ³n: Jenkins con Helm


ğŸ› ï¸ Comandos exitosos para desplegar Jenkins con Helm
bash
Copiar
Editar
# 1. Instalar Jenkins con configuraciÃ³n personalizada
helm install jenkins jenkins/jenkins -n jenkins \
  --set controller.admin.username=admin \
  --set controller.admin.password=admin \
  --set controller.serviceType=NodePort \
  --set controller.nodePort=32000 \
  --set controller.installPlugins[0]=kubernetes \
  --set controller.installPlugins[1]=workflow-aggregator \
  --set controller.installPlugins[2]=docker-workflow \
  --set controller.installPlugins[3]=git \
  --set controller.installPlugins[4]=blueocean
bash
Copiar
Editar
# 2. Obtener la contraseÃ±a del usuario admin
kubectl exec --namespace jenkins -it svc/jenkins -c jenkins -- cat /run/secrets/additional/chart-admin-password
bash
Copiar
Editar
# 3. Obtener IP y puerto para acceder a Jenkins
export NODE_PORT=$(kubectl get --namespace jenkins -o jsonpath="{.spec.ports[0].nodePort}" services jenkins)
export NODE_IP=$(kubectl get nodes -o jsonpath="{.items[0].status.addresses[0].address}")
echo "ğŸ”— Jenkins UI: http://$NODE_IP:$NODE_PORT"


kubectl port-forward svc/jenkins -n jenkins 8090:8080

http://localhost:8090





